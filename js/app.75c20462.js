(function(t){function e(e){for(var n,s,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},o=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue_blog_deploy/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-container",[r("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",[t._l(t.links,(function(e){return r("v-list-item",{key:e.title,attrs:{to:e.url}},[r("v-list-item-action",[r("v-icon",[t._v(t._s(e.icon))])],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),t.isUserLoggedIn?r("v-list-item",{on:{click:t.logout}},[r("v-list-item-action",[r("v-icon",[t._v("mdi-logout")])],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s("Logout")}})],1)],1):t._e()],2)],1),r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){t.drawer=!t.drawer}}}),r("v-toolbar-title",[r("router-link",{staticClass:"pointer",attrs:{to:"/",tag:"span"}},[t._v("Simple Blog on Vue.js")])],1),r("v-spacer"),r("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t._l(t.links,(function(e){return r("v-btn",{key:e.title,attrs:{to:e.url,text:""}},[r("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v(" "+t._s(e.title)+" ")],1)})),t.isUserLoggedIn?r("v-btn",{attrs:{text:""},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-logout")]),t._v(" Logout ")],1):t._e()],2)],1)],1),r("v-content",[r("router-view")],1),t.error?[r("v-snackbar",{attrs:{timeout:5e3,"multi-line":!0,color:"error",value:!0},on:{input:t.closeError}},[t._v(" "+t._s(t.error)+" "),r("v-btn",{attrs:{text:"",dark:""},nativeOn:{click:function(e){return t.closeError(e)}}},[t._v("Close")])],1)]:t._e()],2)},o=[],s={name:"App",data:function(){return{drawer:!1}},computed:{error:function(){return this.$store.getters.error},isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn},links:function(){return this.isUserLoggedIn?[{title:"Home Page",icon:"mdi-home",url:"/"},{title:"New post",icon:"mdi-book-plus",url:"/new"},{title:"My Posts",icon:"mdi-playlist-edit",url:"/posts"}]:[{title:"Login",icon:"mdi-account-lock-outline",url:"/login"},{title:"Registration",icon:"mdi-account-plus-outline",url:"/registration"}]}},methods:{closeError:function(){this.$store.dispatch("clearError")},logout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/")}}},i=s,c=(r("e22a"),r("2877")),l=r("6544"),u=r.n(l),d=r("7496"),p=r("5bc1"),v=r("8336"),m=r("a523"),f=r("a75b"),h=r("132d"),g=r("8860"),b=r("da13"),w=r("1800"),y=r("5d23"),x=r("f774"),V=r("2db4"),_=r("2fa4"),C=r("71d9"),k=r("2a7f"),P=Object(c["a"])(i,a,o,!1,null,"7adab70e",null),O=P.exports;u()(P,{VApp:d["a"],VAppBarNavIcon:p["a"],VBtn:v["a"],VContainer:m["a"],VContent:f["a"],VIcon:h["a"],VList:g["a"],VListItem:b["a"],VListItemAction:w["a"],VListItemContent:y["a"],VListItemTitle:y["b"],VNavigationDrawer:x["a"],VSnackbar:V["a"],VSpacer:_["a"],VToolbar:C["a"],VToolbarItems:k["a"],VToolbarTitle:k["b"]});r("45fc");var j=r("8c4f"),E=r("8aa5"),U=r.n(E),$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading?t._e():r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{xs:"12",md:"6"}},t._l(t.posts,(function(e,n){return r("v-card",{key:n,staticClass:"mb-3"},[r("v-card-title",[t._v(t._s(e.title))]),r("v-card-text",{staticClass:"text--primary"},[r("span",[t._v("By: "+t._s(e.userName))])]),r("v-card-actions",[r("v-btn",{attrs:{color:"success",to:"/post/"+e.id}},[t._v("Read")]),r("v-spacer"),r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-thumb-up")]),r("span",[t._v(t._s(e.likes))])],1)],1)})),1)],1)],1)},L=[],T=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),S=r("2f62");function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){Object(T["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var R={name:"Home",computed:I({},Object(S["c"])(["loading"]),{},Object(S["b"])(["posts"])),created:function(){return this.$store.dispatch("fetchPosts")}},q=R,D=r("b0af"),B=r("99d9"),z=r("62ad"),N=r("0fd9"),F=Object(c["a"])(q,$,L,!1,null,null,null),M=F.exports;u()(F,{VBtn:v["a"],VCard:D["a"],VCardActions:B["a"],VCardText:B["b"],VCardTitle:B["c"],VCol:z["a"],VContainer:m["a"],VIcon:h["a"],VRow:N["a"],VSpacer:_["a"]});var Y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"fill-height":""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{xs:"12",sm:"8",md:"6"}},[r("h2",[t._v("Тестовый логин: t@t.ru пароль: 111111")]),r("v-card",{staticClass:"elevation-1"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Login form")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"email",label:"Email",type:"email",rules:[t.rules.required,t.rules.email]},model:{value:t.email,callback:function(e){t.email="string"===typeof e?e.trim():e},expression:"email"}}),r("v-text-field",{attrs:{"prepend-icon":"mdi-lock",name:"password",label:"Password",type:"password",counter:"6",rules:[t.rules.required,t.rules.password]},model:{value:t.password,callback:function(e){t.password="string"===typeof e?e.trim():e},expression:"password"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.valid||t.loading},on:{click:t.onSubmit}},[t._v("Login")])],1)],1)],1)],1)],1)},Z=[],H={data:function(){return{email:"",password:"",valid:!1,rules:{required:function(t){return!!t||"Required."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail."},password:function(t){return t&&t.length>=6||"Password must be equal or more than 6 characters"}}}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onSubmit:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("loginUser",e).then((function(){t.$router.push("/")})).catch((function(){}))}},logout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/")}},created:function(){this.$route.query["loginError"]&&this.$store.dispatch("setError","Please log in to access this page.")}},J=H,W=r("4bd4"),K=r("8654"),Q=Object(c["a"])(J,Y,Z,!1,null,null,null),X=Q.exports;u()(Q,{VBtn:v["a"],VCard:D["a"],VCardActions:B["a"],VCardText:B["b"],VCol:z["a"],VContainer:m["a"],VForm:W["a"],VRow:N["a"],VSpacer:_["a"],VTextField:K["a"],VToolbar:C["a"],VToolbarTitle:k["b"]});var G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"fill-height":""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{xs:"12",sm:"8",md:"6"}},[r("h2",[t._v(" Регистрация простая, без подтверждения по e-mail. Можно ввести любой валидный e-mail. Либо воспользоваться тестовым логином, который указан на странице входа. ")]),r("v-card",{staticClass:"elevation-1"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Registration form")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{"prepend-icon":"mdi-account-circle",name:"username",label:"Username",type:"text",rules:[t.rules.required]},model:{value:t.newUser.username,callback:function(e){t.$set(t.newUser,"username","string"===typeof e?e.trim():e)},expression:"newUser.username"}}),r("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"email",label:"Email",type:"email",rules:[t.rules.required,t.rules.email]},model:{value:t.newUser.email,callback:function(e){t.$set(t.newUser,"email","string"===typeof e?e.trim():e)},expression:"newUser.email"}}),r("v-text-field",{attrs:{"prepend-icon":"mdi-lock",name:"password",label:"Password",type:"password",counter:6,rules:[t.rules.required,t.rules.password]},model:{value:t.newUser.password,callback:function(e){t.$set(t.newUser,"password","string"===typeof e?e.trim():e)},expression:"newUser.password"}}),r("v-text-field",{attrs:{"prepend-icon":"mdi-lock",name:"confirm-password",label:"Confirm Password",type:"password",counter:6,rules:[t.rules.required,t.rules.confirmPassword]},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword="string"===typeof e?e.trim():e},expression:"confirmPassword"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.valid||t.loading},on:{click:t.onSubmit}},[t._v("Create account!")])],1)],1)],1)],1)],1)},tt=[],et={data:function(){var t=this;return{newUser:{username:"",email:"",password:""},confirmPassword:"",valid:!1,rules:{required:function(t){return!!t||"Required."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail."},password:function(t){return t&&t.length>=6||"Password must be equal or more than 6 characters"},confirmPassword:function(e){return e===t.newUser.password||"Password should match"}}}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onSubmit:function(){var t=this;if(this.$refs.form.validate()){var e={username:this.newUser.username,email:this.newUser.email,password:this.newUser.password};this.$store.dispatch("registerUser",e).then((function(){t.$router.push("/")})).catch((function(){}))}}}},rt=et,nt=Object(c["a"])(rt,G,tt,!1,null,null,null),at=nt.exports;u()(nt,{VBtn:v["a"],VCard:D["a"],VCardActions:B["a"],VCardText:B["b"],VCol:z["a"],VContainer:m["a"],VForm:W["a"],VRow:N["a"],VSpacer:_["a"],VTextField:K["a"],VToolbar:C["a"],VToolbarTitle:k["b"]});var ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{xs:"12"}},[t.loading?r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-progress-circular",{attrs:{indeterminate:"",size:100,width:4,color:"purple"}})],1)],1):r("v-card",[r("v-card-text",[r("h2",{staticClass:"text--primary"},[t._v(t._s(t.post.title))])]),r("v-divider"),r("v-card-text",[r("p",[t._v(t._s(t.post.content))])]),r("v-card-actions",[r("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){return t.likePost(t.post.id,t.post.likes)}}},[r("v-icon",[t._v("mdi-thumb-up")]),r("span",[t._v(t._s(t.post.likes))])],1),r("v-spacer"),t.isAuthor?r("EditPost",{attrs:{post:t.post}}):t._e()],1)],1)],1)],1)],1)},st=[],it=(r("99af"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"400px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"warning",attrs:{text:""}},n),[t._v("Edit")])]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[r("v-card",[r("v-container",[r("v-row",[r("v-col",{attrs:{xs:"12"}},[r("v-card-title",[r("h2",{staticClass:"text--primary"},[t._v("Edit post")])])],1)],1),r("v-divider"),r("v-row",[r("v-col",{attrs:{xs:"12"}},[r("v-card-text",[r("v-text-field",{attrs:{name:"title",label:"Title",type:"text"},model:{value:t.editedTitle,callback:function(e){t.editedTitle="string"===typeof e?e.trim():e},expression:"editedTitle"}}),r("v-textarea",{attrs:{name:"content",label:"Content",type:"text","multi-line":""},model:{value:t.editedContent,callback:function(e){t.editedContent="string"===typeof e?e.trim():e},expression:"editedContent"}})],1)],1)],1),r("v-divider"),r("v-row",[r("v-col",{attrs:{xs:"12"}},[r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"error",on:{click:t.onDelete}},[t._v("Delete")]),r("v-btn",{staticClass:"warning",on:{click:t.onCancel}},[t._v("Cancel")]),r("v-btn",{staticClass:"success",on:{click:t.onSave}},[t._v("Save")])],1)],1)],1)],1)],1)],1)}),ct=[],lt={props:["post"],data:function(){return{modal:!1,editedTitle:this.post.title,editedContent:this.post.content}},methods:{onCancel:function(){this.editedTitle=this.post.title,this.editedContent=this.post.content,this.modal=!1},onSave:function(){""!==this.editedTitle&&""!==this.editedContent&&(this.$store.dispatch("editPost",{title:this.editedTitle,content:this.editedContent,id:this.post.id}),this.modal=!1)},onDelete:function(){this.$store.dispatch("deletePost",this.post),this.$router.push("/")}}},ut=lt,dt=r("169a"),pt=r("ce7e"),vt=r("a844"),mt=Object(c["a"])(ut,it,ct,!1,null,null,null),ft=mt.exports;u()(mt,{VBtn:v["a"],VCard:D["a"],VCardActions:B["a"],VCardText:B["b"],VCardTitle:B["c"],VCol:z["a"],VContainer:m["a"],VDialog:dt["a"],VDivider:pt["a"],VRow:N["a"],VSpacer:_["a"],VTextField:K["a"],VTextarea:vt["a"]});var ht={props:["id"],computed:{post:function(){var t=this.id;return this.$store.getters.postsById(t)},loading:function(){return this.$store.getters.loading},isAuthor:function(){return this.post.userId===U.a.auth().currentUser.uid}},components:{EditPost:ft},methods:{likePost:function(t,e){var r="".concat(U.a.auth().currentUser.uid,"_").concat(t);U.a.firestore().collection("likes").doc(r).get().then((function(n){n.exists||U.a.firestore().collection("likes").doc(r).set({postId:t,userId:U.a.auth().currentUser.uid}).then((function(){U.a.firestore().collection("posts").doc(t).update({likes:e+1})}))})).catch((function(){}))}}},gt=ht,bt=r("490a"),wt=Object(c["a"])(gt,ot,st,!1,null,null,null),yt=wt.exports;u()(wt,{VBtn:v["a"],VCard:D["a"],VCardActions:B["a"],VCardText:B["b"],VCol:z["a"],VContainer:m["a"],VDivider:pt["a"],VIcon:h["a"],VProgressCircular:bt["a"],VRow:N["a"],VSpacer:_["a"]});var xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{xs:"12",sm:"6","offset-sm3":""}},[r("h2",{staticClass:"text--secondary mb-3"},[t._v("Create new ad")]),r("v-form",{ref:"form",staticClass:"mb-3",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{name:"title",label:"Ad title",type:"text",required:"",rules:[function(t){return!!t||"Title is required"}]},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title","string"===typeof e?e.trim():e)},expression:"post.title"}}),r("v-textarea",{attrs:{name:"content",label:"Your text",type:"text","multi-line":"",rules:[function(t){return!!t||"Text is required"}]},model:{value:t.post.content,callback:function(e){t.$set(t.post,"content","string"===typeof e?e.trim():e)},expression:"post.content"}})],1),r("v-row",[r("v-col",{attrs:{xs:"12"}},[r("v-spacer"),r("v-btn",{staticClass:"success",attrs:{loading:t.loading,disabled:!t.valid||t.loading},on:{click:t.createPost}},[t._v(" Create ad ")])],1)],1)],1)],1)],1)},Vt=[];function _t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(r),!0).forEach((function(e){Object(T["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var kt={data:function(){return{post:{title:"",content:""},valid:!1}},computed:Ct({},Object(S["c"])(["loading"])),methods:{createPost:function(){if(this.$refs.form.validate()){var t={title:this.post.title,content:this.post.content};this.$store.dispatch("createPost",t),this.$router.push("/posts")}}}},Pt=kt,Ot=Object(c["a"])(Pt,xt,Vt,!1,null,null,null),jt=Ot.exports;u()(Ot,{VBtn:v["a"],VCol:z["a"],VContainer:m["a"],VForm:W["a"],VRow:N["a"],VSpacer:_["a"],VTextField:K["a"],VTextarea:vt["a"]});var Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading||0===t.myPosts.length?t.loading||0!==t.myPosts.length?r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-progress-circular",{attrs:{indeterminate:"",size:100,width:4,color:"purple"}})],1)],1):r("v-row",[r("v-col",{staticClass:"text-xs-center",attrs:{xs:"12"}},[r("h2",{staticClass:"text--primary"},[t._v("You have no posts")])])],1):r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{xs:"12",sm:"6","offset-sm3":""}},[r("h2",{staticClass:"text--secondary text-center mb-3"},[t._v("My posts")]),t._l(t.myPosts,(function(e){return r("v-card",{key:e.id,staticClass:"mb-3"},[r("v-row",[r("v-col",{attrs:{xs:"8"}},[r("v-card-text",[r("h2",{staticClass:"text--primary"},[t._v(t._s(e.title))])]),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"info",attrs:{to:"/post/"+e.id}},[t._v("Open")])],1)],1)],1)],1)}))],2)],1)],1)},Ut=[],$t={computed:{myPosts:function(){return this.$store.getters.myPosts},loading:function(){return this.$store.getters.loading}}},Lt=$t,Tt=Object(c["a"])(Lt,Et,Ut,!1,null,null,null),St=Tt.exports;u()(Tt,{VBtn:v["a"],VCard:D["a"],VCardActions:B["a"],VCardText:B["b"],VCol:z["a"],VContainer:m["a"],VProgressCircular:bt["a"],VRow:N["a"],VSpacer:_["a"]}),n["a"].use(j["a"]);var At=[{path:"/",name:"home",component:M},{path:"/login",name:"Login",component:X},{path:"/registration",name:"Registration",component:at},{path:"/post/:id",name:"Post",props:!0,component:yt,meta:{requiresAuth:!0}},{path:"/posts",name:"PostsList",props:!0,component:St,meta:{requiresAuth:!0}},{path:"/new",name:"New",component:jt,meta:{requiresAuth:!0}},{path:"/edit",name:"Edit",component:ft,meta:{requiresAuth:!0}}],It=new j["a"]({mode:"history",base:"/vue_blog_deploy/",routes:At});It.beforeEach((function(t,e,r){var n=t.matched.some((function(t){return t.meta.requiresAuth})),a=U.a.auth().currentUser;n&&!a?r("/login"):r()}));var Rt=It,qt=(r("96cf"),r("1da1")),Dt={state:{user:null},mutations:{setUser:function(t,e){t.user=e}},actions:{registerUser:function(){var t=Object(qt["a"])(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("clearError"),n("setLoading",!0),t.prev=3,t.next=6,U.a.auth().createUserWithEmailAndPassword(r.email,r.password);case 6:return a=t.sent,t.next=9,a.user.updateProfile({displayName:r.username});case 9:n("setUser",a.user),n("setLoading",!1),t.next=18;break;case 13:throw t.prev=13,t.t0=t["catch"](3),n("setLoading",!1),n("setError",t.t0.message),t.t0;case 18:case"end":return t.stop()}}),t,null,[[3,13]])})));function e(e,r){return t.apply(this,arguments)}return e}(),loginUser:function(){var t=Object(qt["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,a=r.email,o=r.password,n("clearError"),n("setLoading",!0),t.prev=4,t.next=7,U.a.auth().signInWithEmailAndPassword(a,o);case 7:return s=t.sent,t.next=10,n("setUser",s.user);case 10:n("setLoading",!1),t.next=18;break;case 13:throw t.prev=13,t.t0=t["catch"](4),n("setLoading",!1),n("setError",t.t0.message),t.t0;case 18:case"end":return t.stop()}}),t,null,[[4,13]])})));function e(e,r){return t.apply(this,arguments)}return e}(),autoLoginUser:function(t,e){var r=t.commit;r("setUser",e.user)},logoutUser:function(t){var e=t.commit;U.a.auth().signOut(),e("setUser",null)}},getters:{user:function(t){return t.user},isUserLoggedIn:function(t){return null!==t.user}}},Bt=(r("7db0"),{state:{posts:[]},mutations:{createPost:function(t,e){t.posts.push(e)},setPosts:function(t,e){t.posts=e}},actions:{createPost:function(){var t=Object(qt["a"])(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("clearError"),n("setLoading",!0),t.prev=3,t.next=6,U.a.firestore().collection("posts").add({createdOn:new Date,title:r.title,content:r.content,userId:U.a.auth().currentUser.uid,userName:U.a.auth().currentUser.displayName,comments:0,likes:0});case 6:a=t.sent,n("setLoading",!1),n("createPost",a),t.next=16;break;case 11:throw t.prev=11,t.t0=t["catch"](3),n("setError",t.t0.message),n("setLoading",!1),t.t0;case 16:case"end":return t.stop()}}),t,null,[[3,11]])})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchPosts:function(){var t=Object(qt["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.commit,r("clearError"),r("setLoading",!0),t.prev=3,U.a.firestore().collection("posts").orderBy("createdOn","desc").onSnapshot((function(t){var e=[];t.forEach((function(t){var r=t.data();r.id=t.id,e.push(r)})),r("setLoading",!1),r("setPosts",e)})),t.next=12;break;case 7:throw t.prev=7,t.t0=t["catch"](3),r("setError",t.t0.message),r("setLoading",!1),t.t0;case 12:case"end":return t.stop()}}),t,null,[[3,7]])})));function e(e){return t.apply(this,arguments)}return e}(),editPost:function(){var t=Object(qt["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("clearError"),n("setLoading",!0),t.prev=3,t.next=6,U.a.firestore().collection("posts").doc(r.id).update({title:r.title,content:r.content});case 6:n("setLoading",!1),t.next=14;break;case 9:throw t.prev=9,t.t0=t["catch"](3),n("setError",t.t0.message),n("setLoading",!1),t.t0;case 14:case"end":return t.stop()}}),t,null,[[3,9]])})));function e(e,r){return t.apply(this,arguments)}return e}(),deletePost:function(){var t=Object(qt["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("clearError"),n("setLoading",!0),t.prev=3,t.next=6,U.a.firestore().collection("posts").doc(r.id).delete();case 6:t.next=13;break;case 8:throw t.prev=8,t.t0=t["catch"](3),n("setError",t.t0.message),n("setLoading",!1),t.t0;case 13:case"end":return t.stop()}}),t,null,[[3,8]])})));function e(e,r){return t.apply(this,arguments)}return e}()},getters:{posts:function(t){return t.posts},postsById:function(t){return function(e){return t.posts.find((function(t){return t.id===e}))}},myPosts:function(t){return t.posts.filter((function(t){return t.userId===U.a.auth().currentUser.uid}))}}}),zt={state:{loading:!1,error:null},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{setLoading:function(t,e){var r=t.commit;r("setLoading",e)},setError:function(t,e){var r=t.commit;r("setError",e)},clearError:function(t){var e=t.commit;e("clearError")}},getters:{loading:function(t){return t.loading},error:function(t){return t.error}}};n["a"].use(S["a"]);var Nt=new S["a"].Store({modules:{user:Dt,posts:Bt,utils:zt}}),Ft=r("f309");n["a"].use(Ft["a"]);var Mt=new Ft["a"]({});r("e71f");n["a"].config.productionTip=!1;var Yt={apiKey:"AIzaSyA9HpfjJEOTQETSCM-iAX01icYWNvYiF74",authDomain:"vue-simple-blog-f873e.firebaseapp.com",databaseURL:"https://vue-simple-blog-f873e.firebaseio.com",projectId:"vue-simple-blog-f873e",storageBucket:"vue-simple-blog-f873e.appspot.com",messagingSenderId:"18053521216",appId:"1:18053521216:web:7bc8efaac0f9305943a4a5"};U.a.initializeApp(Yt),U.a.auth().onAuthStateChanged((function(t){t&&Nt.dispatch("autoLoginUser",t)})),new n["a"]({router:Rt,store:Nt,vuetify:Mt,render:function(t){return t(O)}}).$mount("#app")},d4e6:function(t,e,r){},e22a:function(t,e,r){"use strict";var n=r("d4e6"),a=r.n(n);a.a}});
//# sourceMappingURL=app.75c20462.js.map